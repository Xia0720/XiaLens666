{% extends "base.html" %}
{% block title %}{{ album_name }} - Album{% endblock %}

{% block content %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css">
<script src="https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js"></script>

<style>
/* 背景图 */
.album-background {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url("https://images.unsplash.com/photo-1506748686214-e9df14d4d9d0?auto=format&fit=crop&w=1920&q=80");
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    z-index: -1;  /* 放到所有内容的后面 */
}

/* 内容区域保持透明背景 */
.album-container {
    position: relative;
    z-index: 1;  /* 确保内容在背景图上层 */
    background: rgba(255, 255, 255, 0.8); /* 半透明底，保证文字可读 */
    border-radius: 12px;
    padding: 20px;
    margin: 20px auto;
    max-width: 1200px;
}
</style>

<div class="album-background"></div>

<div class="album-container">
    <h1 style="text-align:center; margin-top:20px;">{{ album_name }} Album</h1>

    {% if logged_in %}
        <div style="text-align:center; margin:20px;">
            <a href="{{ url_for('upload', album_name=album_name) }}">Upload Photo</a>
        </div>
    {% endif %}

    <div class="album-grid">
        {% for photo in photos %}
        <div class="album-item">
            <a href="{{ photo.url }}" class="glightbox" data-gallery="album-photos">
                <img src="{{ photo.url }}" alt="Photo" style="max-width:300px; border-radius:8px;">
            </a>
        </div>
        {% endfor %}
    </div>
</div>

<script>
    const lightbox = GLightbox({ selector: '.glightbox' });
</script>
{% endblock %}
